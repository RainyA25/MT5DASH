<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MT5 Bot Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Trading Bot Dashboard</h1>
  </header>

  <section id="account">
    <h2>Account Summary</h2>
    <div id="account-data">
      <p><strong>Balance:</strong> <span id="balance">-</span></p>
      <p><strong>Equity:</strong> <span id="equity">-</span></p>
      <p><strong>Unrealized PnL:</strong> <span id="unrealized_pnl">-</span></p>
      <p><strong>Free Margin:</strong> <span id="margin_free">-</span></p>
      <p><strong>Used Margin:</strong> <span id="margin">-</span></p>
    </div>
  </section>

  <section id="trades">
    <h2>Open Trades</h2>
    <table id="trades-table">
      <thead>
        <tr>
          <th>Symbol</th>
          <th>Type</th>
          <th>Volume</th>
          <th>Open Price</th>
          <th>Current Price</th>
          <th>Open Time</th>
          <th>Duration</th>
          <th>Profit (USD)</th>
          <th>Profit (%)</th>
        </tr>
      </thead>
      <tbody id="trades"></tbody>
    </table>
  </section>

  <section id="chart">
    <h2>Equity & Balance Chart</h2>
    <div class="chart-controls">
      <button data-range="all">All Time</button>
      <button data-range="7d">7 Days</button>
      <button data-range="1d">1 Day</button>
      <button data-range="1h">1 Hour</button>
    </div>
    <canvas id="equityChart" width="800" height="400"></canvas>
  </section>

  <section id="history">
    <h2>Trade History</h2>
    <table id="history-table">
      <thead>
        <tr>
          <th>Symbol</th>
          <th>Type</th>
          <th>Volume</th>
          <th>Open Price</th>
          <th>Close Price</th>
          <th>Open Time</th>
          <th>Close Time</th>
          <th>Duration</th>
          <th>Profit (USD)</th>
        </tr>
      </thead>
      <tbody id="history"></tbody>
    </table>
  </section>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
